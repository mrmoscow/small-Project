import openai
import os

openai.api_key = os.getenv("OPENAI_KEY_AIGO23")
#audio_file= open("/Users/sfyen/Downloads/2022-OpenHouse.m4a", "rb")
a='''{"\u55e8,\u5927\u5bb6\u597d,\u6b61\u8fce\u4f86\u5230\u5929\u6587\u6240\u6b21\u6beb\u7c73\u6ce2\u9663\u5217\u7684\u4ecb\u7d39\u6d77\u5831 \u6b21\u6beb\u7c73\u6ce2\u9663\u5217\u662f\u4f4d\u65bc\u7f8e\u570b\u590f\u5a01\u5937\u5dde\u5927\u5cf6\u4e0a\u7684\u4e00\u5ea7\u96fb\u78c1\u6ce2\u5929\u7dda\u9663\u5217 \u5b83\u5ea7\u843d\u65bc\u6b64\u5cf6\u4e0a\u6d77\u62d44200\u516c\u5c3a\u7684\u6700\u9ad8\u5cf0\u4e0a \u6211\u5011\u90fd\u6703\u7c21\u7a31\u6b21\u6beb\u7c73\u6ce2\u9663\u5217\u70baSMA SMA\u662f\u672c\u6240\u8ddf\u7f8e\u570b\u53f2\u5bc6\u677e\u5929\u6587\u53f0\u5408\u4f5c\u7684\u4e00\u500b\u8a08\u756b \u662f\u4e16\u754c\u4e0a\u7b2c\u4e00\u500b\u5728\u6b64\u6ce2\u6bb5\u7684\u5929\u7dda\u9663\u5217 \u4ec0\u9ebc\u662f\u5929\u7dda\u9663\u5217\u5462? \u5929\u7dda\u9663\u5217\u662f\u7531\u8d85\u904e\u4e00\u5ea7\u5929\u7dda\u7d44\u5408\u800c\u6210\u7684\u671b\u9060\u93e1 \u4f8b\u5982SMA\u5c31\u662f\u75318\u5ea76\u516c\u5c3a\u7684\u76e4\u758a\u5929\u7dda\u7d44\u5408\u800c\u6210 \u85c9\u7531\u7d44\u5408\u591a\u7d44\u5929\u7dda \u5929\u7dda\u9663\u5217\u53ef\u4ee5\u6bd4\u55ae\u4e00\u5929\u7dda\u6709\u66f4\u597d\u7684\u89e3\u6790\u80fd\u529b\u8ddf\u6536\u96c6\u5149\u7dda\u7684\u80fd\u529b SMA\u9084\u6709\u53e6\u5916\u4e00\u500b\u7279\u5225\u4e4b\u8655\u662f \u4e0d\u540c\u65bc\u4eba\u7684\u773c\u775b\u770b\u5230\u7684\u662f\u53ef\u898b\u5149 SMA\u89c0\u6e2c\u5230\u7684\u662f\u4eba\u985e\u773c\u775b\u4e0d\u53ef\u4ee5\u770b\u5230\u7684\u6b21\u6beb\u7c73\u6ce2\u6ce2\u6bb5\u7684\u96fb\u78c1\u6ce2 \u9019\u500b\u4e5f\u662fSMA\u540d\u7a31\u7684\u7531\u4f86 \u4e0d\u540c\u7684\u96fb\u78c1\u6ce2\u6bb5\u53ef\u4ee5\u89c0\u6e2c\u5230\u7684\u6771\u897f\u4e0d\u592a\u4e00\u6a23 SMA\u7684\u89c0\u6e2c\u6ce2\u6bb5\u7576\u4e2d\u6709\u8a31\u591a\u7684\u662f \u5728\u53ef\u898b\u5149\u4e2d\u4e0d\u5bb9\u6613\u88ab\u770b\u5230\u7684\u661f\u969b\u4ecb\u8cea\u8ddf\u5875\u57c3 \u6d77\u5831\u4e2d\u9593\u5c31\u5c55\u793a\u8457\u8457\u540d\u7684\u661f\u7cfbM81 \u5728\u4e0d\u540c\u7684\u96fb\u78c1\u6ce2\u6ce2\u6bb5\u4e0b\u9762\u7684\u9762\u8c8c \u5927\u5bb6\u53ef\u4ee5\u81ea\u5df1\u6bd4\u8f03\u770b\u770b\u6709\u54ea\u4e9b\u4e0d\u4e00\u6a23\u7684\u5730\u65b9\u5594 \u6d77\u5831\u4e0a\u53e6\u5916\u4e00\u5f35\u7167\u7247\u662f\u77e5\u540d\u7684\u7375\u6236\u5ea7\u661f\u96f2 \u4f7f\u7528SMA\u89c0\u6e2c\u4e0d\u50c5\u53ef\u4ee5\u5f97\u5230\u89e3\u6790\u5ea6\u6bd4\u8f03\u9ad8\u7684\u7167\u7247 \u9084\u53ef\u4ee5\u89c0\u6e2c\u5230\u7279\u5b9a\u5206\u5b50\u5728\u661f\u96f2\u4e2d\u7684\u5206\u4f48\u60c5\u6cc1 SMA\u9084\u6709\u53e6\u5916\u4e00\u500b\u7279\u9ede \u5c31\u662f\u7d44\u6210SMA\u76848\u500b\u7684\u76e4\u5f62\u5929\u7dda \u53ef\u4ee5\u4f9d\u7167\u4e0d\u540c\u7684\u89c0\u6e2c\u4efb\u52d9\u79fb\u52d5\u5929\u7dda\u7684\u4f4d\u7f6e \u9019\u6a23\u505a\u7684\u8a71SMA\u7684\u89c0\u6e2c\u76ee\u6a19\u8ddf\u7a2e\u985e\u5c31\u53ef\u4ee5\u5927\u5e45\u7684\u589e\u52a0 \u4e0d\u50c5\u50c5\u662f\u53ef\u4ee5\u89c0\u6e2c\u592a\u967d\u7cfb\u5167\u7684\u884c\u661f \u4e5f\u53ef\u4ee5\u770b\u5230\u9280\u6cb3\u7cfb\u5167\u7684\u5929\u9ad4 \u751a\u81f3\u9280\u6cb3\u7cfb\u5916\u7684\u9059\u9060\u661f\u7cfb \u4e5f\u90fd\u662f\u53ef\u4ee5\u88abSMA\u89c0\u6e2c\u5230\u7684\u56c9 \u5f9e2003\u5e74\u555f\u7528\u81f3\u4eca SMA\u7d2f\u7a4d\u4e86\u4e0d\u5c11\u8cc7\u6599 \u4e5f\u5e6b\u52a9\u79d1\u5b78\u5bb6\u767c\u8868\u4e86\u5c07\u8fd11000\u7bc7\u7684\u79d1\u5b78\u8ad6\u6587 \u66f4\u57282017\u5e74\u53c3\u8207\u9ed1\u6d1e\u89c0\u6e2c\u7684\u4e16\u754c\u671b\u9060\u93e1\u7684\u8a08\u756b \u4e26\u4e14\u5728\u5169\u5e74\u4e4b\u5f8c\u767c\u4f48\u4e86\u4e16\u754c\u7b2c\u4e00\u5f35\u7684\u9ed1\u6d1e\u5f71\u50cf \u53e6\u5916\u4e00\u500b\u5c55\u793a\u51fa\u4f86\u7684\u91cd\u8981\u79d1\u5b78\u6210\u679c \u662f\u95dc\u65bcL1148\u9019\u500b\u5713\u6046\u661f\u661f\u9ad4 \u672c\u6240\u7814\u7a76\u8005\u5011\u6bd4\u8f03\u4e86L1148\u9019\u500b\u5713\u6046\u661f \u73fe\u5728\u548c\u904e\u5f80\u5341\u5e7e\u5e74\u7684\u8cc7\u6599 \u4ed6\u5011\u767c\u73fe\u51fa\u4e86\u5728\u904e\u53bb12\u5e74\u7576\u4e2d \u5713\u6046\u661f\u7684\u5674\u6d41\u5982\u540c\u7406\u8ad6\u9810\u6e2c\u4e00\u6a23 \u6162\u6162\u7684\u9060\u96e2\u5713\u6046\u661f\u7684\u4e2d\u5fc3 \u4e26\u4e14\u7d66\u51fa\u4e86\u66f4\u6e96\u78ba\u7684\u5404\u500b\u7269\u7406\u91cf \u8b93\u6211\u5011\u5c0d\u65bc\u9019\u500b\u661f\u9ad4\u6709\u66f4\u597d\u7684\u8a8d\u8b58 \u9664\u4e86\u6301\u7e8c\u7684\u89c0\u6e2c\u4e4b\u5916 \u672c\u6240\u5de5\u7a0b\u4eba\u54e1\u4e5f\u52aa\u529b\u7684\u7dad\u8b77\u8ddf\u5347\u7d1a\u9019\u5ea7\u671b\u9060\u93e1 \u6d77\u5831\u7684\u53f3\u4e0b\u89d2\u5c31\u5c55\u793a\u4e86\u672c\u6240\u8ddf\u5408\u4f5c\u5925\u4f34 \u5171\u540c\u958b\u767c\u7684\u65b0\u4e00\u4ee3\u63a5\u6536\u6a5f \u9019\u500b\u65b0\u4e00\u4ee3\u7684\u63a5\u6536\u6a5f\u4f7f\u7528\u4e86\u65b0\u7684\u8a2d\u8a08\u6982\u5ff5 \u628a\u66f4\u591a\u7684\u8a2d\u5099\u653e\u7f6e\u5728\u66f4\u4f4e\u6eab\u7684\u74b0\u5883\u4e2d \u8b93\u9019\u500b\u65b0\u4e00\u4ee3\u7684\u63a5\u6536\u6a5f\u6709\u66f4\u4f4e\u96dc\u8a0a \u983b\u5bec\u66f4\u5bec\u7684\u512a\u9ede \u9019\u500b\u65b0\u7684\u63a5\u6536\u6a5f\u9810\u8a08\u57282025\u5e74\u524d \u6703\u5b89\u88dd\u5728SMA\u4e0a\u9762 \u6b21\u822a\u6beb\u7c73\u6ce2\u7d93\u904e\u591a\u5e74\u7684\u904b\u4f5c \u5c55\u793a\u51fa\u5b83\u662f\u4e00\u5ea7\u512a\u8cea\u6709\u7522\u91cf\u7684\u5929\u6587\u5100\u5668 \u5982\u679c\u5927\u5bb6\u6709\u8208\u8da3\u7684\u8a71 \u8acb\u518d\u770b\u770b\u4ecb\u7d39\u6d77\u5831\u6216\u8005\u662f\u53c3\u52a0\u672c\u6240\u5ea7\u8ac7\u6703 \u4e00\u8d77\u9818\u7565\u795e\u79d8\u597d\u73a9\u7684\u5929\u6587\u77e5\u8b58"
}
'''

audio_file= open("/Users/sfyen/Downloads/test.mp3", "rb")
'''
{
  "text": "I Have A Dream I Have A Dream I have a dream A song to sing To help me cope With anything If you see the wonder Of a fairy tale You can take the future Even if you fail I believe in angels Something good in everything I see I believe in angels When I know the time is right for me I'll cross the stream I have a dream I have a dream A fantasy To help me through Reality And my destination Makes it worth the while Pushing through the darkness Still another mile I believe in angels Something good in everything I see I believe in angels When I know the time is right for me I'll cross the stream I have a dream I'll cross the stream I have a dream I have a dream A song to sing To help me cope With anything If you see the wonder Of a fairy tale You can take the future Even if you fail I believe in angels Something good in everything I see I believe in angels When I know the time is right for me I'll cross the stream I have a dream I'll cross the stream I have a dream I have a dream"
}
'''
#transcript = openai.Audio.transcribe("whisper-1", audio_file)


#type(transcript)
#print(transcript).encode("utf-8")

print(a)
